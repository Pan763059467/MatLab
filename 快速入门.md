# 变量
a = 1
1. 如果未指定输出变量，MATLAB 将使用变量 ans（answer 的缩略形式）来存储计算结果。
```
>>sin(a)
  ans =language 0.8415
```
2. 如果语句以分号结束，MATLAB 会执行计算，但不在命令行窗口中显示输出。
```language
e = a*b;
```
# 矩阵和数组
## 创建
1.(行向量)要创建每行包含四个元素的数组，请使用逗号 (,) 或空格分隔各元素。
```
a = [1 2 3 4]
a = 1×4
     1     2     3     4
```
2.(矩阵)要创建包含多行的矩阵，请使用分号分隔各行。
```
a = [1 2 3; 4 5 6; 7 8 10]
a = 3×3
     1     2     3
     4     5     6
     7     8    10
```
3.创建矩阵的另一种方法是使用 ones、zeros 或 rand 等函数
```
z = zeros(5,1)
z = 5×1
     0
     0
     0
     0
     0
```
## 运算
MATLAB 允许您使用单一的算术运算符或函数来处理矩阵中的所有值。
```
a + 10
ans = 3×3
    11    12    13
    14    15    16
    17    18    20
```

```
sin(a)
ans = 3×3
    0.8415    0.9093    0.1411
   -0.7568   -0.9589   -0.2794
    0.6570    0.9894   -0.5440
```

### 矩阵转置
```
// 单引号 (')
a'
ans = 3×3
     1     4     7
     2     5     8
     3     6    10
```
### * 运算符
```
// 执行标准矩阵乘法，这将计算行与列之间的内积。例如，确认矩阵乘以其逆矩阵可返回单位矩阵：
p = a*inv(a)
p = 3×3
    1.0000         0   -0.0000
         0    1.0000         0
         0         0    1.0000
```
### format 
```
// 显示更多/更少小数位
format long
p = a*inv(a)
p = 3×3

   1.000000000000000                   0  -0.000000000000000
                   0   1.000000000000000                   0
                   0                   0   0.999999999999998
format short
```
### (.*) 元素级乘法
```
p = a.*a
p = 3×3
     1     4     9
    16    25    36
    49    64   100
```
### (.^)元素级指数乘 
```
a.^3
ans = 3×3
           1           8          27
          64         125         216
         343         512        1000
```
### 串联
```
// 平行串联
A = [a,a]
A = 3×6
     1     2     3     1     2     3
     4     5     6     4     5     6
     7     8    10     7     8    10
// 垂直串联
A = [a; a]
A = 6×3
     1     2     3
     4     5     6
     7     8    10
     1     2     3
     4     5     6
     7     8    10
```
### 复数
复数包含实部和虚部，虚数单位是 -1 的平方根
```
>> sqrt(-1)
   ans = 0.0000 + 1.0000i
```
要表示复数的虚部，请使用 i 或 j
```
c = [3+4i, 4+3j; -i, 10j]
```
# 数组索引
以 4×4 幻方矩阵 A 为例：
```language
A = magic(4)
A =

    16     2     3    13
     5    11    10     8
     9     7     6    12
     4    14    15     1
```
## 引用方式
1.指定行列
```language
>> A(4,2)
   ans = 14
```
2.顺序遍历
```language
>> A(8)
   ans = 14
```
3.越界
```
test = A(4,5)
Index exceeds matrix dimensions.
```
## 指定外部元素
```language
A(4,5) = 17
A = 16     2     3    13     0
     5    11    10     8     0
     9     7     6    12     0
     4    14    15     1    17
```
## 冒号运算符
指定start:step:end范围，step默认为1
```
>> A(1:3,2)
   ans =
	2
	11
	7
```
缺省情况为取所有
```language
>> A(3,:)
   ans = 9     7     6    12     0
```
可以设置步长，格式为start:step:end。创建等距向量值
```language
>> B = 0:10:100
   B = 0    10    20    30    40    50    60    70    80    90   100
```
# 工作区变量
工作区包含在 MATLAB® 中创建或从数据文件或其他程序导入的变量。例：
```language
A = magic(4);
B = rand(3,5,2);
# whos 查看工作区内容
whos
Name      Size             Bytes  Class     Attributes
A         4x4                128  double              
B         3x5x2              240  double      
```
退出 MATLAB 后，工作区变量不会保留。
使用 save 命令保存数据以供将来使用;
使用 clear 命令清除工作区中的所有变;
使用 load 将 MAT 文件中的数据还原到工作区。
```
save myfile.mat
load myfile.mat
```
# 文本或字符
当您处理文本时，将字符序列括在单引号中。可以将文本赋给变量。
```
myText = 'hello world';
// 如果文本包含单引号，请在定义中使用两个单引号
otherText = 'You''re right'
// 可以使用方括号串联字符数组
longText = [myText,' - ',otherText]
longText = 'Hello, world - You're right
// 要将数值转换为字符，请使用 num2str 或 int2str 等函数
f = 71;
c = (f-32)/1.8;
tempText = ['Temperature is ',num2str(c),'C']
```
与所有 MATLAB® 变量一样，myText 和 otherText 为数组。其类或数据类型为 char（character 的缩略形式）。
# 调用函数
同C
如果存在多个输出参数，请将其括在方括号中：
```
[maxA,location] = max(A)
maxA = 5
location = 3
```
# 二维图或三维图
## plot 二维线性图
例：绘制0到2Π的正弦函数值
```language
x = 0:pi/100:2*pi;  # 0到2Π，中间以pi/100为取点距离
y = sin(x);
plot(x,y)
// 可以标记轴并添加标题。
xlabel('x')
ylabel('sin(x)')
title('Plot of the Sine Function')
//通过向 plot 函数添加第三个输入参数，您可以使用红色虚线绘制相同的变量
plot(x,y,'r--')
```
请注意，为第一幅绘图定义的标题和标签不再被用于当前的图窗窗口中。默认情况下，每次调用绘图函数、重置坐标区及其他元素以准备新绘图时，MATLAB® 都会清除图窗。

要将绘图添加到现有图窗中，请使用 hold on。在使用 hold off 或关闭窗口之前，当前图窗窗口中会显示所有绘图。
``` 
x = 0:pi/100:2*pi;
y = sin(x);
plot(x,y)

hold on

y2 = cos(x);
plot(x,y2,':')
legend('sin','cos')

hold off
```
## 三维绘图
三维图通常显示一个由带两个变量的函数（即 z = f (x,y)）定义的曲面图。
```language
# 要计算 z，请首先使用 meshgrid 在此函数的域中创建一组 (x,y) 点。
[X,Y] = meshgrid(-2:.2:2); 
Z = X .* exp(-X.^2 - Y.^2);
surf(X,Y,Z) # 画图
```
## 子图
使用 subplot 函数可以在同一窗口的不同子区域显示多个绘图。

subplot 的前两个输入表示每行和每列中的绘图数。第三个输入指定绘图是否处于活动状态。例如，在图窗窗口的 2×2 网格中创建四个绘图。
```
t = 0:pi/10:2*pi;
[X,Y,Z] = cylinder(4*cos(t));
subplot(2,2,1); mesh(X); title('X');
subplot(2,2,2); mesh(Y); title('Y');
subplot(2,2,3); mesh(Z); title('Z');
subplot(2,2,4); mesh(X,Y,Z); title('X,Y,Z');
```
# 编程和脚本
## 待补充
# 矩阵和幻方矩阵
## 关于矩阵
在 MATLAB® 环境中，矩阵是由数字组成的矩形数组。MATLAB 旨在尽可能简化运算。其他编程语言一次只能处理一个数字，而 MATLAB 允许您轻松快捷地处理整个矩阵。
## 待补充
## 生成矩阵
MATLAB 软件提供了四个用于生成基本矩阵的函数。
|函数名|作用|
|-|-|
|zeros|全部为零|
|ones|全部为 1|
|rand|均匀分布的随机元素|
|randn|正态分布的随机元素|
# 表达式
## 变量
MATLAB 不需要任何类型声明或维度说明。当 MATLAB 遇到新的变量名称（区分大小写）时，它会自动创建变量，并分配适当大小的存储。
例如，
```
num_students = 25
```
创建一个名为 num_students 的 1×1 矩阵，并将值 25 存储在该矩阵的单一元素中
## 数字
MATLAB 使用传统的十进制记数法以及可选的小数点和前导加号或减号来表示数字。科学记数法使用字母 e 来指定 10 次方的缩放因子。虚数使用 i 或 j 作为后缀。下面给出了合法数字的一些示例：

3              -99            0.0001
9.6397238      1.60210e-20    6.02252e23
1i             -3.14159j      3e5i
MATLAB 使用 IEEE® 浮点标准规定的 long 格式在内部存储所有数字。浮点数的有限精度约为 16 位有效小数位数，有限范围约为 10-308 至 10+308。

以双精度格式表示的数字的最大精度为 52 位。任何需要 52 位以上的双精度数字都会丢失一定精度。例如，下面的代码因截断而将两个不相等的值显示为相等：

x = 36028797018963968;
y = 36028797018963972;
x == y
ans =
      1
整数的可用精度为 8 位、16 位、32 位和 64 位。将相同数字存储为 64 位整数会保留精度：
x = uint64(36028797018963968);
y = uint64(36028797018963972);
x == y
ans =
      0
MATLAB 软件存储复数的实部和虚部。该软件根据上下文采用不同方法来处理各个部分的量值。例如，sort 函数根据量值进行排序，如果量值相等，则根据相位角度排序。

sort([3+4i, 4+3i])
ans =
   4.0000 + 3.0000i   3.0000 + 4.0000i
这是由相位角度所致：

angle(3+4i)
ans =
    0.9273
angle(4+3i)
ans =
    0.6435 
“等于”关系运算符 == 要求实部和虚部相等。其他二进制关系运算符 >、<、>= 和 <= 忽略数字的虚部，而仅考虑实部。
## 矩阵运算符
|运算符|作用|
|-|-|-|
|+|加法|
|-|减法|
|*|乘法|
|/|除法|
|\\|左除|
|^|幂|
|'|复共轭转置|
|( )|指定计算顺序|
## 数组运算符
|运算符|作用|
|-|-|-|
|+|加法|
|-|减法|
|.*|逐元素乘法|
|./|逐元素除法|
|.\\|逐元素左除|
|.^|逐元素幂|
|'|复共轭转置|
## 函数
MATLAB 提供了大量标准初等数学函数，包括 abs、sqrt、exp 和 sin。生成负数的平方根或对数不会导致错误；系统会自动生成相应的复数结果。MATLAB 还提供了许多其他高等数学函数，包括贝塞尔函数和伽玛函数。其中的大多数函数都接受复数参数。有关初等数学函数的列表，请键入
help elfun
有关更多高等数学函数和矩阵函数的列表，请键入
help specfun
help elmat
# 输入命令
## format
控制所显示数值格式
```
x = [4/3 1.2345e-6]

format short
   1.3333    0.0000

format short e
   1.3333e+000  1.2345e-006

format short g
   1.3333  1.2345e-006

format long
   1.33333333333333   0.00000123450000

format long e
   1.333333333333333e+000    1.234500000000000e-006

format long g
   1.33333333333333               1.2345e-006

format bank
   1.33          0.00

format rat
   4/3          1/810045

format hex
   3ff5555555555555   3eb4b6231abfd271
```
## 取消输出
分号结尾
```language
A = magic(100);
```
## 输入长语句
如果语句无法容纳在一行中，请使用省略号（三个句点）...，后跟 Return 或 Enter 以指示该语句在下一行继续。例如，
```
s = 1 -1/2 + 1/3 -1/4 + 1/5 - 1/6 + 1/7 ...
      - 1/8 + 1/9 - 1/10 + 1/11 - 1/12;
```
=、+ 和 - 符号周围的空白是可选的，但可提高可读性。
# 索引
## 下标
A 的行 i 和列 j 中的元素通过 A(i,j) 表示
A =  16     3     2    13  
     5    10    11     8   
     9     6     7    12    
     4    15    14     1  
## 删除行列
只需使用一对方括号即可从矩阵中删除行和列。首先
X = A;
然后，要删除 X 的第二列，请使用
X(:,2) = []
这会将 X 更改为
X = 16     2    13
     5    11     8 
     9     7    12
     4    14     1
如果您删除矩阵中的单个元素，结果将不再是矩阵。因此，以下类似表达式
X(1,2) = []
将会导致错误。但是，使用单一下标可以删除一个元素或元素序列，并将其余元素重构为一个行向量。因此
X(2:2:10) = []
生成
X = 16     9     2     7    13    12     1
## 标量扩展
可以采用多种不同方法将矩阵和标量合并在一起。
## 逻辑下标
根据逻辑和关系运算创建的逻辑向量可用于引用子数组。
假定 X 是一个普通矩阵，L 是一个由某个逻辑运算生成的同等大小的矩阵。那么，X(L) 指定 X 的元素，其中 L 的元素为非零。

通过将逻辑运算指定为下标表达式，可以在一个步骤中完成这种下标。假定您具有以下数据集：
```language
x = [2.1 1.7 1.6 1.5 NaN 1.9 1.8 1.5 5.1 1.8 1.4 2.2 1.6 1.8];
```
NaN 是用于缺少的观测值的标记，例如，无法响应问卷中的某个项。要使用逻辑索引删除缺少的数据，请使用 isfinite(x)，对于所有有限数值，该函数为 true；对于 NaN 和 Inf，该函数为 false：
```language
x = x(isfinite(x))
x = 2.1 1.7 1.6 1.5 1.9 1.8 1.5 5.1 1.8 1.4 2.2 1.6 1.8
```
现在，存在一个似乎与其他项很不一样的观测值，即 5.1。这是一个离群值。下面的语句可删除离群值，在本示例中，即比均值大三个标准差的元素：
```language
x = x(abs(x-mean(x)) <= 3*std(x))
x = 2.1 1.7 1.6 1.5 1.9 1.8 1.5 1.8 1.4 2.2 1.6 1.8
```
标量扩展对于另一示例，请使用逻辑索引和标量扩展将非质数设置为 0，以便高亮显示丢勒幻方矩阵中的质数的位置。（请参阅 magic 函数。）
```language
A(~isprime(A)) = 0
A =  0     3     2    13
     5     0    11     0
     0     0     7     0
     0     0     0     0
```
## find 函数
find 函数可用于确定与指定逻辑条件相符的数组元素的索引。find 以最简单的形式返回索引的列向量。
```
k = find(isprime(A))'
使用一维索引选取幻方矩阵中的质数的位置：

k =
     2     5     9    10    11    13
使用以下命令按 k 确定的顺序将这些质数显示为行向量

A(k)
ans =
     5     3     2    11     7    13
将 k 用作赋值语句的左侧索引时，会保留矩阵结构：
A(k) = NaN
A = 16   NaN   NaN   NaN
   NaN    10   NaN     8
     9     6   NaN    12
     4    15    14     1
```
# 数组类型
## 待补充

